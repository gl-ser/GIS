# GIS
Движок геоинформационной системы

Использует функционал:

- Qt 5;
- кватернионно-векторно-матричной библиотеки [QuatVectMatr](https://github.com/gl-ser/QuatVectMatr);
- библиотеки логических манипуляций над множествами [Multitude](https://github.com/gl-ser/Multitude).

Реализует основные возможности геоинформационной системы, необходимые для создания приложений, интерфейс пользователя которых основан на действиях с электронной картой местности.

Состоит из 8 классов: TCartography, TView, TScene, TFrame, TLayer, TMapData, TGISLib, TShellGIS.

---

### 1. TCartography класс картографических преобразований
Является основным аппаратом вычислительной математики в движке геоинформационной системы.

#### Публичные методы
1.1. _ScreenXYToPZ90BL_ переводит сценические координаты в геодезические координаты эллипсоида ПЗ-90, используя текущую проекцию

На вход подаются:

  - абсцисса ScreenX сценических координат;
  - ордината ScreenY сценических координат.

На выходе можно получить:

  - геодезическая широта B [рад];
  - геодезическая долгота L [рад].

Синтаксис:

```cpp
void ScreenXYToPZ90BL(double ScreenX, double ScreenY, double* B, double* L)
```

1.2. _PZ90BLToScreenXY_ переводит геодезические координаты эллипсоида ПЗ-90 в сценические координаты, используя текущую проекцию

На вход подаются:

  - геодезическая широта B [рад];
  - геодезическая долгота L [рад].

На выходе можно получить:

  - абсцисса ScreenX сценических координат;
  - ордината ScreenY сценических координат.

Синтаксис:

```cpp
void PZ90BLToScreenXY(double B, double L, double* ScreenX, double* ScreenY)
```

1.3. _RulerLength_ вычисляет длину геодезической линии между указанными точками

На вход подаются:

  - геодезическая широта B начала линии [рад];
  - геодезическая долгота L начала линии [рад];
  - геодезическая широта B конца линии [рад];
  - геодезическая долгота L конца линии [рад].

На выходе можно получить:

  - длину геодезической линии на эллипсоиде ПЗ-90 [м].

Синтаксис:

```cpp
double RulerLength(double StartB, double StartL, double StopB, double StopL)
```

#### Публичные свойства
1.4. _SysCoord_ свойство Объект умеет преобразовывать системы координат (экземпляр класса TEarthSatellite)

Синтаксис:

```cpp
TEarthSatellite* SysCoord
```

1.5. _Geometry_ свойство Объект реализует геометрические построения (экземпляр класса TEasyGeometry)

Синтаксис:

```cpp
TEasyGeometry* Geometry
```

1.6. _OWNER_ свойство Указатель на объект класса-владельца

Синтаксис:

```cpp
void* OWNER
```

---

### 2. TView класс, реализующий «вид» для отрисовки картографической сцены
Расширяет возможности «вида» из Qt для отрисовки картографической сцены.

#### Публичный тип:
```cpp
    //Инструменты по работе с картой
    enum TTool
    {
      MOVE = 1,   //Движение карты
      RULER = 2,  //Линейка
      ARROW = 3   //Стрелка
    };
```
#### Публичные методы
2.1. SetCursor устанавливает вид курсора в соответствии с инструментом по работе с картой

Синтаксис:

```cpp
void SetCursor(TTool Value)
```

2.2. CloseHint закрывает всплывающую подсказку

Синтаксис:

```cpp
void CloseHint(void)
```
#### Публичное свойство
2.3. OWNER свойство Указатель на объект класса-владельца

Синтаксис:

```cpp
void* OWNER
```

